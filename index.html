<!DOCTYPE html>
<html lang="en" manifest="cache.manifest">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <meta http-equiv="expires" content="0">
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
    <title>SMM Perimeter Builder</title>
    <!--include all scripts in developer mode, in production mode comment this and use all.min.js at the end of this file instead-->
    <!--include scripts-->
    <link rel="shortcut icon" href="favicon.ico">
</head>

<body>
    <div class="loaderBack" id="loaderId">
        <div class="loader-center-box"><img class="loaderImage" src="cross.png"></div>
    </div>
    <style>
        .loader-center-box {
            background-color: rgb(200, 0, 0);
        }
        
        .ch-logo {
            color: white;
        }
        
        .loaderBack {
            position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: rgb(255, 0, 0);
        }
        
        .loaderImage {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
            -webkit-animation: spin1 1.5s ease infinite;
            -moz-animation: spin1 1.5s ease infinite;
            animation: spin1 1.5s ease infinite;
        }
        
        @-moz-keyframes spin1 {
            100% {
                -moz-transform: rotate(360deg);
            }
        }
        
        @-webkit-keyframes spin1 {
            100% {
                -webkit-transform: rotate(360deg);
            }
        }
        
        @keyframes spin1 {
            100% {
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
    </style>
    <div class="navbar navbar-fixed-top" id="header">
        <div class="pull-left" id="logo"><img id="header-img" alt="swisstopo" src="logo-CH.svg" onerror="this.onerror=null; this.src='logo-CH.png'"><img id="header-img-collapsed" alt="swisstopo" src="favicon.png" onerror="this.onerror=null; this.src='logo-CH.png'"></div>
        <h1 id="header-text">
            <p>Bundesamt für Landestopografie swisstopo</p>
            <p>SMM Perimeter Builder</p>
        </h1>
        <div class="nav-right">
            <div id="language-select"><a id="langDE" href="?lang=de">DE</a><a id="langFR" href="?lang=fr">FR</a><a id="langIT" href="?lang=it">IT</a><a id="langEN" href="?lang=en">EN</a></div>
            <div class="nav-service"><a href="https://swisstopo.admin.ch" target="_blank" id="copyrightNavBar">Copyright swisstopo</a><a id="help-btn">Hilfe</a></div>
        </div>
    </div>
    <div class="fullAndWhite" id="help" hidden>
        <div class="btn-bottom"><button class="btn btn-alert" id="help-btn-close" type="button">Schliessen</button></div>
    </div>
    <div class="whiteWindowBackground" id="setScale" hidden>
        <div class="whiteWindow">
            <div class="centerAllCheckbox">
                <h3 class="whiteWindowTitle">Wählen sie mindestens ein Massstab aus</h3>
                <!--the following array must contain on map layer for each row-->
                <!--at position [0] there is the offical name (will be witten in the KML)-->
                <!--at position [1] there is the name (stored in lingua) that the user will see-->
                <!--at position [2] there is the name average size in KB of a tile-->
                <!--The offical name cannot contain underscores (_)-->
                <!--the following array must be in the same order as the mapTypes array and it must have the same number of rows-->
                <!--at position [0] there is the offical scale (will be witten in the KML)-->
                <!--at position [1] there is the scale) that the user will see i.e. 50'000-->
                <form id="setScaleForm">
                    <div class="row">
                        <div data-toggle="buttons"><label class="btn-checkbox-layer" id="pixelkarte-farbe" name="30">CH farbe:</label>
                            <div class="scalaContainer">
                                <div class="scala" id="pixelkarte-farbeScala" name="CH farbe"><label class="btn btn-primary btn-checkbox btn-checkbox-first btn-checkbox-scala" name="30">25'000<input class="cb" type="checkbox" style="display: none" id="pixelkarte-farbe_25000" name="25000"></label><label class="btn btn-primary btn-checkbox btn-checkbox-scala"
                                        name="30">50'000<input class="cb" type="checkbox" style="display: none" id="pixelkarte-farbe_50000" name="50000"></label><label class="btn btn-primary btn-checkbox btn-checkbox-last btn-checkbox-scala" name="30">100'000<input class="cb" type="checkbox" style="display: none" id="pixelkarte-farbe_100000" name="100000"></label></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div data-toggle="buttons"><label class="btn-checkbox-layer" id="swissimage" name="25">Swissimage:</label>
                            <div class="scalaContainer">
                                <div class="scala" id="swissimageScala" name="Swissimage"><label class="btn btn-primary btn-checkbox btn-checkbox-first btn-checkbox-scala" name="25">25'000<input class="cb" type="checkbox" style="display: none" id="swissimage_25000" name="25000"></label><label class="btn btn-primary btn-checkbox btn-checkbox-scala"
                                        name="25">50'000<input class="cb" type="checkbox" style="display: none" id="swissimage_50000" name="50000"></label><label class="btn btn-primary btn-checkbox btn-checkbox-last btn-checkbox-scala" name="25">100'000<input class="cb" type="checkbox" style="display: none" id="swissimage_100000" name="100000"></label></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div data-toggle="buttons"><label class="btn-checkbox-layer" id="luftfahrtkarten-icao" name="120">Luftfahrtkarte:</label>
                            <div class="scalaContainer">
                                <div class="scala" id="luftfahrtkarten-icaoScala" name="Luftfahrtkarte"><label class="btn btn-primary btn-checkbox btn-checkbox-first btn-checkbox-scala" name="120">300'000<input class="cb" type="checkbox" style="display: none" id="luftfahrtkarten-icao_300000" name="300000"></label><label class="btn btn-primary btn-checkbox btn-checkbox-last btn-checkbox-scala"
                                        name="120">500'000<input class="cb" type="checkbox" style="display: none" id="luftfahrtkarten-icao_500000" name="500000"></label></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div data-toggle="buttons"><label class="btn-checkbox-layer" id="pixelkarte-grau" name="30">Pixelkarte grau (Luftfahrt):</label>
                            <div class="scalaContainer">
                                <div class="scala" id="pixelkarte-grauScala" name="Pixelkarte grau (Luftfahrt)"><label class="btn btn-primary btn-checkbox btn-checkbox-first btn-checkbox-scala" name="30">25'000<input class="cb" type="checkbox" style="display: none" id="pixelkarte-grau_25000" name="25000"></label><label class="btn btn-primary btn-checkbox btn-checkbox-scala"
                                        name="30">50'000<input class="cb" type="checkbox" style="display: none" id="pixelkarte-grau_50000" name="50000"></label><label class="btn btn-primary btn-checkbox btn-checkbox-last btn-checkbox-scala" name="30">100'000<input class="cb" type="checkbox" style="display: none" id="pixelkarte-grau_100000" name="100000"></label></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div data-toggle="buttons"><label class="btn-checkbox-layer" id="hiks-dufour" name="30">Dufour:</label>
                            <div class="scalaContainer">
                                <div class="scala" id="hiks-dufourScala" name="Dufour"><label class="btn btn-primary btn-checkbox btn-checkbox-first btn-checkbox-last btn-checkbox-scala" name="30">100'000<input class="cb" type="checkbox" style="display: none" id="hiks-dufour_100000" name="100000"></label></div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div data-toggle="buttons"><label class="btn-checkbox-layer" id="hiks-siegfried" name="30">Siegfried:</label>
                            <div class="scalaContainer">
                                <div class="scala" id="hiks-siegfriedScala" name="Siegfried"><label class="btn btn-primary btn-checkbox btn-checkbox-first btn-checkbox-scala" name="30">25'000<input class="cb" type="checkbox" style="display: none" id="hiks-siegfried_25000" name="25000"></label><label class="btn btn-primary btn-checkbox btn-checkbox-last btn-checkbox-scala"
                                        name="30">50'000<input class="cb" type="checkbox" style="display: none" id="hiks-siegfried_50000" name="50000"></label></div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!--form#setScaleForm
  each mapType in mapTypes
    .row
      div(data-toggle='buttons')
        -var mapName = "lingua."+mapType;
        label.btn-checkbox-layer(id=mapType[0])= mapType[1]+':'
          //input.cb(type="checkbox"  id=''+mapType[0]+'Checkbox')
        .scala(id=mapType[0]+'Scala' name=mapType[1])
          label.btn.btn-primary.btn-checkbox.btn-checkbox-first.btn-checkbox-scala 25'000
            input.cb(type='checkbox' style='display: none' id=mapType[0]+'.25')
          label.btn.btn-primary.btn-checkbox.btn-checkbox-scala 50'000
            input.cb(type='checkbox' style='display: none' id=mapType[0]+'.50')
          label.btn.btn-primary.btn-checkbox.btn-checkbox-last.btn-checkbox-scala 100'000
            input.cb(type='checkbox' style='display: none' id=mapType[0]+'.100')
            --><button class="btn doneCancelButton" id="btn-setScaleCancel">Abbrechen </button><button class="btn doneCancelButton" id="btn-setScaleDone">Weiter</button></div>
    </div>
    <div class="whiteWindowBackground alertWindowBackground" id="alertView" hidden>
        <div class="whiteWindow alertWindow">
            <h3 class="alertTitle" id="alertViewTitle">AlertHere</h3>
            <h5 id="alertViewText">TextHere</h5><button class="btn btn-alert" id="alertViewBtnOk">Ok</button><button class="btn btn-alert" id="alertViewBtnYes" style="display: none">Ja</button></div>
    </div>
    <div class="fullAndWhite" id="dragndrop" hidden>
        <div class="centerDiv"><img id="uploadKMLimg" src="uploadKML.png" alt="upload kml">
            <div id="uploadKMLtext">KML File hier ziehen</div>
        </div>
    </div>
    <div class="fullAndWhite" id="kmlLoading" hidden>
        <div class="centerDiv">Laden...</div>
    </div>
    <div class="map" id="map">
        <div class="tooltip" id="drawTooltip"></div>
        <div class="tooltip" id="dragTooltip"></div>
    </div>
    <!-- <b>Select 2 polygons in Drag & Select mode with the shift key</b>-->
    <div class="navbar navbar-fixed-bottom" id="footer">
        <div class="pull-left" id="scaleline-id"></div><select class="pull-left hidden-xs mousePadding" id="mousepositionSelect"><option value="0">CH1903 / LV03</option><option value="1">CH1903+ / LV95</option><option value="2">WGS 84</option></select>
        <div class="pull-left hidden-xs mousePadding"
            id="mouseposition">Koordinaten (m): </div>
        <div class="pull-right">
            <!--a(target='_blank', href='https://www.geo.admin.ch/{{langId}}/about-swiss-geoportal/impressum.html#copyright', translate='') __copyright_label-->
            <form>
                <div id="bgText">Hintergrund:</div><select id="backgroudSelect"><option value="ch.swisstopo.pixelkarte-farbe">CH farbe</option><option value="ch.swisstopo.swissimage">Swissimage</option><option value="ch.bazl.luftfahrtkarten-icao">Luftfahrtkarte</option><option value="ch.swisstopo.pixelkarte-grau">Pixelkarte grau (Luftfahrt) </option><option value="ch.swisstopo.hiks-dufour">Dufour</option><option value="ch.swisstopo.hiks-siegfried">Siegfried</option></select></form>
        </div>
    </div>
    <div class="sideControls leftControls">
        <div class="p">
            <div class="isTouch infoTooltip">
                <a name="Zeichnen   [D]"><img class="controlImage mode selectedMode" id="btn-draw" src="drawIcon.png" alt="draw"></a>
                <div class="help-text">Zeichnen [D]</div>
            </div>
        </div>
        <div class="p">
            <div class="isTouch infoTooltip">
                <a name="Ändern   [M]"><img class="controlImage mode" id="btn-modify" src="modifyIcon.png" alt="modify"></a>
                <div class="help-text">Ändern [M]</div>
            </div>
            <div class="isTouch infoTooltip">
                <a name="Selektierten Perimeter löschen"><img class="controlImage modeAction" id="btn-modify-delete" src="deleteIcon.png" alt="delete" hidden></a>
                <div class="help-text">Selektierten Perimeter löschen</div>
            </div>
        </div>
        <div class="p">
            <div class="isTouch infoTooltip">
                <a name="Ziehen   [S]"><img class="controlImage mode" id="btn-dragSelect" src="dragIcon.png" alt="drag"></a>
                <div class="help-text">Ziehen [S]</div>
            </div>
            <div class="isTouch infoTooltip">
                <a name="Selektierten Perimeter löschen"><img class="controlImage modeAction" id="btn-dragSelect-delete" src="deleteIcon.png" alt="delete" hidden></a>
                <div class="help-text">Selektierten Perimeter löschen</div>
            </div>
            <div class="isTouch infoTooltip">
                <a name="Selektierte Perimeter vereinen"><img class="controlImage modeAction" id="btn-union" src="unionIcon.png" alt="union" hidden></a>
                <div class="help-text">Selektierte Perimeter vereinen</div>
            </div>
            <div class="isTouch infoTooltip">
                <a name="Massstab setzten"><img class="controlImage modeAction" id="btn-setScale" src="scaleIcon.png" alt="scale" hidden></a>
                <div class="help-text">Massstab setzten</div>
            </div>
        </div>
        <!--button#intersect(style="pointer-events: visible;") _intersect-->
        <div class="p">
            <div class="help-text centerDiv helpCenterText">__Drag und drop zum kml upload, unten links zum dowload, text hier...</div><br>
            <div class="help-text">__Press the shift key to select multiple perimeters</div><br>
            <div class="help-text">__Press the ESC key to delet a drawn line </div><br>
            <div class="help-text">__Press A to select all feature (in Drag mode)</div>
        </div>
        <div class="p btn-download">
            <div class="isTouch infoTooltip">
                <a class="dowloadTooltip" name="Herunterladen"><img class="controlImage" id="btn-download" src="downloadIcon.png" alt="download"></a>
                <div class="help-text">Perimeter als KML herunterladen</div>
            </div>
        </div>
    </div>
    <div class="sideControls rightControls">
        <div id="zoomControls">
            <div class="p">
                <div class="isTouch infoTooltip">
                    <div class="help-text">Hineinzoomen</div>
                    <a name="Hineinzoomen"><img class="controlImage ol-zoom ol-zoom-in" id="btn-zoom-in" src="plusIcon.png" alt="zoom in"></a>
                </div>
            </div>
            <div class="p" id="zoomOut">
                <div class="isTouch infoTooltip">
                    <div class="help-text">Rauszoomen</div>
                    <a class="ol-zoom" name="Rauszoomen"><img class="controlImage ol-zoom-out" id="btn-zoom-out" src="minusIcon.png" alt="zoom out"></a>
                </div>
            </div>
        </div>
    </div><input type="hidden" id="firstAcceptedLanguages" name="DE"></body>
<link rel="stylesheet" href="http://openlayers.org/en/v3.18.2/css/ol.css" type="text/css">
<link rel="stylesheet" href="bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="style.css" type="text/css">
<script src="all.min.js"></script>

</html>